(function(t){function e(e){for(var i,s,l=e[0],a=e[1],c=e[2],u=0,f=[];u<l.length;u++)s=l[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&f.push(n[s][0]),n[s]=0;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i]);h&&h(e);while(f.length)f.shift()();return r.push.apply(r,c||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],i=!0,l=1;l<o.length;l++){var a=o[l];0!==n[a]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=o[0]))}return t}var i={},n={app:0},r=[];function s(e){if(i[e])return i[e].exports;var o=i[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=i,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(o,i,function(e){return t[e]}.bind(null,i));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],a=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var h=a;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("41f5")},"41f5":function(t,e,o){"use strict";o.r(e);o("5b8b"),o("3083"),o("2827"),o("3a2e");var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"vue-pull-to-wrapper",style:{height:t.wrapperHeight},on:{transitionend:t.handleTransitionEnd}},[t.topLoadMethod?o("div",{ref:"action-block-top",staticClass:"action-block action-block-top",style:{height:t.topBlockHeight+"px",marginTop:-t.topBlockHeight+"px"}},[t._t("top-block",[o("p",{staticClass:"default-text"},[t._v(t._s(t.topText))])],{state:t.state,stateText:t.topText,triggerDistance:t._topConfig.triggerDistance,diff:t.diff})],2):t._e(),o("div",{ref:"scroll-container",staticClass:"scroll-container"},[t._t("default"),t.bottomLoadMethod&&t.isBottomKeepScroll?o("div",{ref:"bottom-filler",staticClass:"bottom-filler"}):t._e()],2),t.bottomLoadMethod?o("div",{ref:"action-block-bottom",staticClass:"action-block action-block-bottom",style:{height:t.bottomBlockHeight+"px",marginBottom:-t.bottomBlockHeight+"px"}},[t._t("bottom-block",[o("p",{staticClass:"default-text"},[t._v(t._s(t.bottomText))])],{state:t.state,stateText:t.bottomText,triggerDistance:t._bottomConfig.triggerDistance,diff:t.diff})],2):t._e()])},n=[],r=o("1c37"),s=(o("1981"),o("25a2"),o("9dc0"));o("a6ed");function l(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null==e)return t;var i,n="object"===("undefined"===typeof performance?"undefined":Object(s["a"])(performance))?performance:Date,r=null;return function(){var s=n.now();if(null!=r&&clearTimeout(r),i||(i=s),0!==o&&s-i>=o)t.apply(this,arguments),i=s;else{var l=this,a=Array.prototype.slice.call(arguments);r=setTimeout((function(){return r=null,t.apply(l,a)}),e)}}}var a=function(){var t=!1;try{window.addEventListener("test",e,{get passive(){return t=!0,!0}}),window.removeEventListener("test",e)}catch(o){t=!1}return t&&{passive:!0};function e(){}}();function c(t,e){var o=Object.create(t);return Object.assign(o,e),o}var h={pullText:"下拉刷新",triggerText:"释放更新",loadingText:"加载中...",doneText:"加载完成",failText:"加载失败",loadedStayTime:400,stayDistance:50,triggerDistance:70},u={pullText:"上拉加载",triggerText:"释放更新",loadingText:"加载中...",doneText:"加载完成",failText:"加载失败",loadedStayTime:400,stayDistance:50,triggerDistance:70},f="loaded-";function d(t,e,o,i){t.setProperty("transition-property",e||""),t.setProperty("transition-duration",o||""),t.setProperty("transition-delay",i||"")}function p(t){return"string"===typeof t&&t.startsWith(f)}function v(t,e){switch(e){case"pull":return t.pullText;case"trigger":return t.triggerText;case"loading":return t.loadingText;case"loaded-done":return t.doneText;default:return p(e)?t.failText:""}}var g={name:"vue-pull-to",props:{distanceIndex:{type:Number,default:2},topBlockHeight:{type:Number,default:50},bottomBlockHeight:{type:Number,default:50},wrapperHeight:{type:String,default:"100%"},topLoadMethod:Function,bottomLoadMethod:Function,isThrottleTopPull:{type:Boolean,default:!0},isThrottleBottomPull:{type:Boolean,default:!0},isThrottleScroll:{type:Boolean,default:!0},isTouchSensitive:{type:Boolean,default:!0},isScrollSensitive:{type:Boolean,default:!0},isTopBounce:{type:Boolean,default:!0},isBottomBounce:{type:Boolean,default:!0},isBottomKeepScroll:Boolean,topConfig:Object,bottomConfig:Object},data:function(){return{startY:null,startX:null,distance:0,diff:0,beforeDiff:0,state:"",shouldPullDown:!1,shouldPullUp:!1,shouldPassThroughEvent:!1,throttleEmitTopPull:null,throttleEmitBottomPull:null,throttleEmitScroll:null,throttleOnInfiniteScroll:null}},computed:{_topConfig:function(){return c(h,this.topConfig)},_bottomConfig:function(){return c(u,this.bottomConfig)},direction:{cache:!1,get:function(){var t=this.distance;return t>0?"down":t<0?"up":0}},topText:function(){return this.distance>0?v(this._topConfig,this.state):""},bottomText:function(){return this.distance<0?v(this._bottomConfig,this.state):""}},watch:{state:function(t){var e=this,o=this.distance,i=o>0?"top-state-change":"bottom-state-change";if(this.$emit(i,t),"string"!==typeof t||""===t);else if("loading"===t){var n=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"done",i=f+o;e.state=i,t=null};if(o>0?this.topLoadMethod(n):this.bottomLoadMethod(n),null===t)return;o>0?this.scrollTo(this._topConfig.stayDistance):this.scrollTo(-this._bottomConfig.stayDistance)}else if(p(t)&&null==this.startY){var r=o>0?this._topConfig:this._bottomConfig,s=this.$refs["bottom-filler"];if(s&&!(o>0)){var l=this.$refs["action-block-bottom"],a=this.diff;if(null!=l&&a<0){this.scrollTo(0,0);var c=l.style;c.setProperty("transform","translate(0, ".concat(a,"px)"));var h=s.style;h.setProperty("height","".concat(-a,"px")),this.$refs["scroll-container"].scrollTop-=a;var u="200ms",v="".concat(r.loadedStayTime,"ms");return d(c,"transform",u,v),d(h,"height",u,v),c.setProperty("transform","translate(0, 0)"),void h.setProperty("height","0px")}}this.scrollTo(0,200,r.loadedStayTime)}},isTouchSensitive:"updateTouchSensitivity",isScrollSensitive:"updateScrollSensitivity"},methods:{scrollTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.diff=t;var i=this.$refs["action-block-bottom"];if(null!=i){var n=i.style;n.getPropertyValue("transform")&&(d(n,"none"),n.setProperty("transform",""))}var r=this.$refs["bottom-filler"];if(null!=r){var s=r.style;s.getPropertyValue("height")&&(d(s,"none"),s.setProperty("height",""))}var l=this.$el.style;d(l,e>0||o>0?"transform":"none","".concat(e,"ms"),"".concat(o,"ms")),l.setProperty("transform",0===t?"none":"translate(0, ".concat(t,"px)"))},checkBottomReached:function(){var t=this.$refs["scroll-container"];return t.scrollTop+t.offsetHeight+1>=t.scrollHeight},handleTouchStart:function(t){var e=Object(r["a"])(t.touches,1),o=e[0];this.startY=o.clientY,this.startX=o.clientX,this.beforeDiff=this.diff;var i=this.$refs["scroll-container"];this.shouldPullDown=this.isTopBounce&&0===i.scrollTop,this.shouldPullUp=this.isBottomBounce&&this.checkBottomReached(),this.shouldPassThroughEvent=!1},handleTouchMove:function(t){var e=Object(r["a"])(t.touches,1),o=e[0],i=o.clientY,n=o.clientX,s=this.startY,l=this.startX,a=(i-s)/this.distanceIndex+this.beforeDiff,c=this.state;"loading"!==c||a*this.distance>0||(a=a<0?3e-308:-3e-308),this.distance=a;var h=this.shouldPassThroughEvent;if(Math.abs(i-s)<Math.abs(n-l)&&(this.shouldPassThroughEvent=h=!0),a>0?this.shouldPullDown:this.shouldPullUp){var u;if(h||(t.preventDefault(),t.stopPropagation()),this.scrollTo(a,0),a>0){if(this.isThrottleTopPull?this.throttleEmitTopPull(this.diff):this.$emit("top-pull",this.diff),"function"!==typeof this.topLoadMethod)return;u=this._topConfig}else{if(this.isThrottleBottomPull?this.throttleEmitBottomPull(this.diff):this.$emit("bottom-pull",this.diff),"function"!==typeof this.bottomLoadMethod)return;u=this._bottomConfig}var f=Math.abs(a)<u.triggerDistance?"pull":"trigger";"loading"!==c&&c!==f&&(this.state=f)}else this.scrollTo(0,0)},handleTouchEnd:function(){if(this.startX=this.startY=null,this.diff)switch(this.state){case"trigger":this.state="loading";break;case"loading":this.scrollTo(this.beforeDiff);break;default:this.state="",this.scrollTo(0);break}},handleScroll:function(t){this.isThrottleScroll?this.throttleEmitScroll(t):this.$emit("scroll",t),this.throttleOnInfiniteScroll()},handleTransitionEnd:function(t){p(this.state)&&(this.state="")},bindEvents:function(){this.isTouchSensitive&&this.updateTouchSensitivity(!0),this.isScrollSensitive&&this.updateScrollSensitivity(!0)},updateTouchSensitivity:function(t){var e=this.$refs["scroll-container"];t?(e.addEventListener("touchstart",this.handleTouchStart,a),e.addEventListener("touchmove",this.handleTouchMove),e.addEventListener("touchend",this.handleTouchEnd,a)):(e.removeEventListener("touchstart",this.handleTouchStart),e.removeEventListener("touchmove",this.handleTouchMove),e.removeEventListener("touchend",this.handleTouchEnd))},updateScrollSensitivity:function(t){var e=this.$refs["scroll-container"];t?e.addEventListener("scroll",this.handleScroll,a):e.removeEventListener("scroll",this.handleScroll)},createThrottleMethods:function(){var t=this,e=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return l(t.$emit.bind(t,i),e,o)};this.throttleEmitTopPull=e(200,300,"top-pull"),this.throttleEmitBottomPull=e(200,300,"bottom-pull"),this.throttleEmitScroll=e(100,150,"scroll"),this.throttleOnInfiniteScroll=l((function(){t.checkBottomReached()&&t.$emit("infinite-scroll")}),400)},init:function(){this.createThrottleMethods(),this.bindEvents()}},mounted:function(){this.init()}},m=g,b=(o("c44e"),o("2bcb")),T=Object(b["a"])(m,i,n,!1,null,"37a79dec",null),y=T.exports;e["default"]=y},c44e:function(t,e,o){"use strict";o("e36a")},e36a:function(t,e,o){}});
//# sourceMappingURL=app.7665f8e8.js.map